<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8"/>
    <title>Предметы</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}"/>
</head>
<body>
<header>
    <nav>
        <ul>
            <li><a th:href="@{/}">Главная</a></li>
            <li><a th:href="@{/profile}">Профиль</a></li>
            <li><a th:href="@{/admin/users}">Пользователи</a></li>
            <li><a th:href="@{/admin/subjects}">Предметы</a></li>
            <li><a th:href="@{/admin/classes}">Классы</a></li>
            <li><a th:href="@{/admin/schedule}">Расписание</a></li>
        </ul>
    </nav>
</header>

<main>
    <h1>Предметы</h1>

    <button class="btn primary" onclick="showModal('addSubjectModal')">Добавить предмет</button>

    <ul class="class-list">
        <li th:each="subject : ${subjects}" class="subject-item">
            <a th:href="@{'/admin/subjects/' + ${subject.id}}" th:text="${subject.name}">Название предмета</a>
            <button class="btn danger"
                    th:onclick="'deleteSubject(' + ${subject.id} + ')'"
                    type="button">Удалить</button>
        </li>
    </ul>

    <div id="addSubjectModal" class="modal">
        <h2>Добавить новый предмет</h2>
        <form th:action="@{/admin/subjects/create}" method="post">
            <div class="form-group">
                <label for="name">Название</label>
                <input class="input-field" type="text" id="name" name="name" required maxlength="100"/>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn secondary" onclick="closeAllModals()">Отмена</button>
                <button type="submit" class="btn primary">Сохранить</button>
            </div>
        </form>
    </div>
</main>

<div id="modalOverlay" class="modal-overlay" onclick="closeAllModals()"></div>

<script th:src="@{/js/modals.js}"></script>
<script th:src="@{/js/scripts.js}"></script>

<footer>
    <p>© 2025 EduDiary</p>
</footer>

</body>
</html>